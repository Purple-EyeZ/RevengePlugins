(function(exports,metro,common,plugin,ui,storage,assets){"use strict";var{View:View$1,Text:Text$1,Image:Image$2,StyleSheet:StyleSheet$1}=common.ReactNative,LinearGradient=metro.findByProps("LinearGradient")?.default,Colors={primary:"#E146C6",secondary:"#14acc0",white:"#ffffff",lightGray:"#aaaaaa"},styles$1=StyleSheet$1.create({gradientBorder:{borderRadius:8,padding:1},container:{flexDirection:"row",alignItems:"center",backgroundColor:"#000000e6",borderRadius:7,padding:8,minWidth:200},logo:{width:60,height:60,resizeMode:"contain"},separator:{width:1,height:"80%",backgroundColor:Colors.secondary,marginHorizontal:10,opacity:.6},textContainer:{flexDirection:"column",justifyContent:"center"},headerText:{color:Colors.white,fontSize:10,fontWeight:"bold",opacity:.8,letterSpacing:1},countdownRow:{flexDirection:"row",alignItems:"center",marginVertical:4},daysText:{color:Colors.primary,fontSize:22,fontWeight:"900",textShadowColor:"rgba(255, 0, 255, 0.7)",textShadowOffset:{width:0,height:0},textShadowRadius:12,marginRight:4},subText:{color:Colors.secondary,fontSize:14,fontWeight:"bold",textShadowColor:"rgba(0, 213, 255, 0.7)",textShadowRadius:10},footerText:{color:Colors.lightGray,fontSize:9}});function CountdownToast({days}){return LinearGradient?React.createElement(LinearGradient,{colors:[Colors.primary,Colors.secondary],start:{x:0,y:.5},end:{x:1,y:.5},style:styles$1.gradientBorder},React.createElement(View$1,{style:styles$1.container},React.createElement(Image$2,{source:{uri:LOGO_URL},style:styles$1.logo}),React.createElement(View$1,{style:styles$1.separator}),React.createElement(View$1,{style:styles$1.textContainer},React.createElement(Text$1,{style:styles$1.headerText},"GRAND THEFT AUTO VI"),React.createElement(View$1,{style:styles$1.countdownRow},React.createElement(Text$1,{style:styles$1.daysText},days),React.createElement(Text$1,{style:styles$1.subText},"DAYS LEFT")),React.createElement(Text$1,{style:styles$1.footerText},"Coming 19th Nov 2026")))):null}var ThemeStore=metro.findByStoreName("ThemeStore"),colorModule=metro.findByProps("colors","unsafe_rawColors"),colorResolver=colorModule?.internal??colorModule?.meta,resolveSemanticColor=(color,theme=ThemeStore.theme)=>color&&colorResolver?.resolveSemanticColor(theme,color)||"#000000",findRedesignComponent=propName=>metro.findByProps(propName)?.[propName],TextStyleSheet=metro.findByProps("TextStyleSheet")?.TextStyleSheet;function Text({variant,color,align,style,lineClamp,children,...props}){var computedStyle=[];return variant&&TextStyleSheet?.[variant]&&computedStyle.push(TextStyleSheet[variant]),color&&ui.semanticColors[color]&&computedStyle.push({color:resolveSemanticColor(ui.semanticColors[color])}),align&&computedStyle.push({textAlign:align}),style&&computedStyle.push(style),React.createElement(common.ReactNative.Text,{style:computedStyle,numberOfLines:lineClamp,...props},children)}var Button=findRedesignComponent("Button"),RawSlider=findRedesignComponent("Slider"),TableRadioGroup=findRedesignComponent("TableRadioGroup"),TableRadioRow=findRedesignComponent("TableRadioRow"),{TableRowGroup,Stack,TableRow}=common.components,{ScrollView,View,TouchableOpacity,Image:Image$1,StyleSheet,Linking}=common.ReactNative,Slider=props=>React.createElement(View,{style:{marginTop:8}},RawSlider?React.createElement(RawSlider,{...props,onValueChange:val=>props.value!==val&&props.onValueChange?.(val)}):React.createElement(Text,{color:"TEXT_FEEDBACK_CRITICAL"},"Missing Slider")),HeroBanner=()=>React.createElement(TouchableOpacity,{onPress:()=>Linking.openURL(ROCKSTAR_VI_URL),activeOpacity:.9,style:styles.heroContainer},React.createElement(Image$1,{source:{uri:IMAGE_URL},style:styles.heroImage,resizeMode:"cover"})),styles=StyleSheet.create({heroContainer:{width:"100%",aspectRatio:16/9,borderRadius:16,overflow:"hidden",backgroundColor:"#000",shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.6,shadowRadius:5,elevation:8},heroImage:{width:"100%",height:"100%"}});function Settings(){return storage.useProxy(plugin.storage),React.createElement(ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(Stack,{style:{paddingVertical:24,paddingHorizontal:16},spacing:24},React.createElement(HeroBanner,null),React.createElement(TableRadioGroup,{title:"Frequency",defaultValue:plugin.storage.frequency,onChange:v=>plugin.storage.frequency=v},FREQUENCIES.map(freq=>React.createElement(TableRadioRow,{key:freq.value,label:freq.label,subLabel:freq.description,value:freq.value}))),React.createElement(TableRowGroup,{title:"Behavior"},React.createElement(TableRow,{label:"Toast Duration",subLabel:React.createElement(View,null,React.createElement(Text,{variant:"text-xs/medium",color:"TEXT_SUBTLE",style:{marginTop:4}},"The notification will stay on screen for"," ",React.createElement(Text,{variant:"text-xs/bold",color:"MOBILE_TEXT_HEADING_PRIMARY"},plugin.storage.displayDuration," seconds"),"."),React.createElement(Slider,{value:plugin.storage.displayDuration,minimumValue:1,maximumValue:20,step:1,onValueChange:val=>plugin.storage.displayDuration=val})),onPress:()=>{},arrow:!1})),React.createElement(View,{style:{paddingHorizontal:0}},Button&&React.createElement(Button,{text:"Preview Toast",variant:"primary",size:"md",onPress:()=>showCountdownToast(),icon:assets.getAssetIDByName("EyeIcon"),iconPosition:"start"}))))}var _a,_b;function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}var{Image}=common.ReactNative,Toasts=metro.findByProps("open","close"),UuidModule=metro.findByProps("uuid4"),ConnectionStore=metro.findByProps("isConnected","isDisconnected"),TARGET_DATE=new Date("2026-11-19T00:00:00"),LOGO_URL="https://i.imgur.com/x91idXI.png",IMAGE_URL="https://i.imgur.com/M5K8i6m.jpeg",ROCKSTAR_VI_URL="https://www.rockstargames.com/VI",DEFAULT_DURATION=3,DEFAULT_FREQUENCY="daily",ONE_HOUR=60*60*1e3,ONE_DAY=24*ONE_HOUR;(_a=plugin.storage).displayDuration??(_a.displayDuration=DEFAULT_DURATION),(_b=plugin.storage).frequency??(_b.frequency=DEFAULT_FREQUENCY);var FREQUENCIES=[{label:"Always on Startup",value:"startup",description:"Shows every time you open the app."},{label:"Every Hour",value:"hourly",description:"Shows at most once per hour."},{label:"Daily",value:"daily",description:"Shows once every 24 hours."},{label:"Weekly",value:"weekly",description:"Shows once every 7 days."}],getDaysUntilRelease=()=>{var now=new Date,difference=TARGET_DATE.getTime()-now.getTime();return Math.ceil(difference/(1e3*60*60*24))},showCountdownToast=()=>_async_to_generator(function*(){var days=getDaysUntilRelease(),durationSec=Number(plugin.storage.displayDuration)||DEFAULT_DURATION;yield Image.prefetch(LOGO_URL).catch(()=>null),Toasts&&Toasts.open({key:`gta-toast-${UuidModule?UuidModule.uuid4():Math.random()}`,content:React.createElement(CountdownToast,{days}),containerStyle:{backgroundColor:"transparent",borderColor:"transparent",shadowColor:"transparent",elevation:0},toastDurationMs:durationSec*1e3})})(),checkAndShowToast=()=>{var now=Date.now(),lastShown=plugin.storage.lastShownTime||0,diff=now-lastShown,shouldShow=!1;switch(plugin.storage.frequency){case"startup":shouldShow=!0;break;case"hourly":shouldShow=diff>=ONE_HOUR;break;case"daily":shouldShow=diff>=ONE_DAY;break;case"weekly":shouldShow=diff>=ONE_DAY*7;break;default:shouldShow=diff>=ONE_DAY}shouldShow&&(showCountdownToast(),plugin.storage.lastShownTime=now)},onConnection,index={onLoad:()=>{var isAlreadyConnected=ConnectionStore?.isConnected?.()??!1;isAlreadyConnected?checkAndShowToast():(onConnection=()=>{checkAndShowToast(),common.FluxDispatcher.unsubscribe("POST_CONNECTION_OPEN",onConnection)},common.FluxDispatcher.subscribe("POST_CONNECTION_OPEN",onConnection))},onUnload:()=>{onConnection&&common.FluxDispatcher.unsubscribe("POST_CONNECTION_OPEN",onConnection)},settings:Settings};return exports.FREQUENCIES=FREQUENCIES,exports.IMAGE_URL=IMAGE_URL,exports.LOGO_URL=LOGO_URL,exports.ROCKSTAR_VI_URL=ROCKSTAR_VI_URL,exports.default=index,exports.getDaysUntilRelease=getDaysUntilRelease,exports.showCountdownToast=showCountdownToast,Object.defineProperty(exports,"__esModule",{value:!0}),exports})({},bunny.metro,bunny.metro.common,vendetta.plugin,vendetta.ui,vendetta.storage,vendetta.ui.assets);
